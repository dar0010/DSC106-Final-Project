<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nashville Crash Data ðŸš—</title>
  <link href="global.css" rel="stylesheet" />
  <script type="module" src="map.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/mapbox-gl@2.15.0/dist/mapbox-gl.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/mapbox-gl@2.15.0/dist/mapbox-gl.css" rel="stylesheet" />
</head>
<body>
  <header style="display: flex; gap: 1em; align-items: baseline;">
    <h1>Nashville Crash Data ðŸš—</h1>

    <label style="margin-left: auto;">
      Filter by time:
      <input
        type="range"
        id="time-slider"
        min="-1"
        max="1439"
        value="-1"
        step="1"
        style="vertical-align: middle;"
      />
      <time id="selected-time" style="display: block; font-weight: bold;"></time>
      <em id="any-time" style="display: block; color: #666; font-style: italic;">
        (any time)
      </em>
    </label>

    <label for="year-select">Filter by year:</label>
    <select id="year-select">
      <option>Loading...</option>
    </select>

    <!-- New filters -->
    <label for="weather-select">Filter by weather:</label>
    <select id="weather-select">
      <option value="all">All</option>
      <option value="CLEAR">Clear</option>
      <option value="CLOUDY">Cloudy</option>
      <option value="RAIN">Rain</option>
      <option value="SNOW">Snow</option>
      <option value="UNKNOWN">Unknown</option>
    </select>

    <label for="hitrun-select">Filter by hit-and-run:</label>
    <select id="hitrun-select">
      <option value="all">All</option>
      <option value="Y">Yes</option>
      <option value="N">No</option>
    </select>

    <label for="illumination-select">Filter by illumination:</label>
    <select id="illumination-select">
      <option value="all">All</option>
      <option value="DAYLIGHT">Daylight</option>
      <option value="DARK - LIGHTED">Dark â€“ Lighted</option>
      <option value="DARK - NOT LIGHTED">Dark â€“ Not Lighted</option>
      <option value="DUSK">Dusk</option>
      <option value="UNKNOWN">Unknown</option>
    </select>
    <!-- end new filters -->

  </header>
  <div id="scrolly">
    <div id="map-story">
      <div class="step" data-step="0">2018 filler text</div>
      <div class="step" data-step="1">2019 filler text</div>
      <div class="step" data-step="2">2020 filler text</div>
      <div class="step" data-step="3">2021 filler text</div>
      <div class="step" data-step="4">2022 filler text</div>
      <div class="step" data-step="5">2023 filler text</div>
      <div class="step" data-step="6">2024 filler text</div>
      <div class="step" data-step="7">2025 filler text</div>
    </div>  
    <div id="map"></div>
  </div>
  <div>
    <h2> Write up:</h2>
    <p>
      So far we have converted our crash data into a geojson and plotted on a map of Nashville. Then we added some basic interaction
      elements like time of crash and information about each crash once you click on the circle. After that we decided to change the size 
      of each individual circle based on the number of vechicles involved in the accident. Finally we added some more features like year, weather, if it was a hit and run, and amount of illumination to so that the visualization wouldn't look so cluttered.
    </p>
    <p> The most difficult thing to implement is how to create different kinds of interactions for new filters that we plan to implement. So far we only have one slider and the rest are just regular drop down menus. Another difficult thing to implement is the overall design of our website. Currently everything looks basic and we need to so some research and find some inspiration to improve our website's design.</p>
  </div>
</body>
</html>
